# 62. Unique Paths

LeetCode URL: https://leetcode.com/problems/unique-paths/description/

ã“ã®å•é¡Œã¯ Java ã§è§£ã„ã¦ã„ã¾ã™ã€‚  
å„è§£æ³•ã«ãŠã„ã¦ã€ãƒ¡ã‚½ãƒƒãƒ‰ãŒå±ã™ã‚‹ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ `Solution` ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ãŒã€ã“ã‚Œã¯ Java ã®è¨€èªä»•æ§˜ã«å¾“ã„ã€ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚‚ã®ã§ã™ã€‚ã“ã®ã‚¯ãƒ©ã‚¹è‡ªä½“ã«ã¯ç‰¹å®šã®æ„å‘³ã¯ãªãã€å˜ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’çµ„ç¹”åŒ–ã—ã€å®Ÿè¡Œå¯èƒ½ã«ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

## Step 1

DP ã®å•é¡Œãªã®ã§ãªã‚“ã‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã‹ã™ã‚‹ã‚“ã ã‚ã†ãªã¨ã¯æ€ã†ãŒã€ã„ã„æ¡ˆãŒæ€ã„ã¤ã‹ãªã„ã€‚ã—ã‹ã—ãªãŒã‚‰[å‰å›ã®æ•™è¨“](https://github.com/seal-azarashi/leetcode/pull/30/files#diff-f8fa021ba9e65116bf33b3b3f8db9c427a3326861bb34e4dabf63348823cee80R128-R151)ã‚’è¸ã¾ãˆã€ã„ããªã‚Šè§£ç­”ã¯è¦‹ãšã«ã€æ€ã„ã¤ã„ãŸè§£æ³•æ›¸ã„ã¦ã¿ã¦ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ã—ã¦ã„ãã“ã¨ã‚’è©¦ã¿ã‚‹ã€‚  
ã¾ãšæ€ã„ã¤ã„ãŸã®ã¯æ„šç›´ã«ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã¾ã§ã®é“é †ã‚’ç¶²ç¾…çš„ã«èµ°æŸ»ã—ã¦ã„ããƒ‘ã‚¿ãƒ¼ãƒ³ã€‚ TLEã€‚

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(2^(m + n)): 
 *     - å„ãƒã‚¹ã§é€²è¡Œæ–¹å‘ã®å€™è£œãŒæœ€å¤§ã§2ã¤ã‚ã‚‹ (ç«¯ã«ã„ã‚‹å ´åˆã¯1ã¤)
 *     - ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã«åˆ°é”ã™ã‚‹ã¾ã§ m - 1 + n - 1 å›ã®ç§»å‹•ãŒå¿…è¦
 * ç©ºé–“è¨ˆç®—é‡: O(m + n):
 *     - ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã¾ã§ã®ç§»å‹•å›æ•°ãŒå†å¸°ã®æ·±ã•ã«ãªã‚‹
 *     - ç§»å‹•å›æ•°ã¯ m - 1 + n - 1 å›
 */
class Solution {
    int uniquePathCount, m, n;

    public int uniquePaths(int m, int n) {
        this.uniquePathCount = 0;
        this.m = m;
        this.n = n;
        findUniquePathRecursively(0, 0);
        return this.uniquePathCount;
    }

    private void findUniquePathRecursively(int x, int y) {
        if (x == this.n - 1 && y == this.m - 1) {
            this.uniquePathCount++;
            return;
        }
        if (x < this.n) {
            findUniquePathRecursively(x + 1, y);
        }
        if (y < this.m) {
            findUniquePathRecursively(x, y + 1);
        }
    }
}
```

åŒã˜ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã‚´ãƒ¼ãƒ«ã‹ã‚‰ã‚‚èµ°æŸ»ãŒå‡ºæ¥ã‚‹ãªã¨è€ƒãˆå‡¦ç†ã®é–‹å§‹åœ°ç‚¹ã‚’å¤‰ãˆã¦ã¿ã‚‹ã€‚ TLEã€‚

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(2^(m + n)): 
 *     - å„ãƒã‚¹ã§é€²è¡Œæ–¹å‘ã®å€™è£œãŒæœ€å¤§ã§2ã¤ã‚ã‚‹ (ç«¯ã«ã„ã‚‹å ´åˆã¯1ã¤)
 *     - ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã«åˆ°é”ã™ã‚‹ã¾ã§ m - 1 + n - 1 å›ã®ç§»å‹•ãŒå¿…è¦
 * ç©ºé–“è¨ˆç®—é‡: O(m + n):
 *     - ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã‚´ãƒ¼ãƒ«ã¾ã§ã®ç§»å‹•å›æ•°ãŒå†å¸°ã®æ·±ã•ã«ãªã‚‹
 *     - ç§»å‹•å›æ•°ã¯ m - 1 + n - 1 å›
 */
class Solution {
    int uniquePathCount, m, n;

    public int uniquePaths(int m, int n) {
        this.uniquePathCount = 0;
        this.m = m;
        this.n = n;
        findUniquePathRecursively(n - 1, m - 1);
        return this.uniquePathCount;
    }

    private void findUniquePathRecursively(int x, int y) {
        if (x == 0 && y == 0) {
            this.uniquePathCount++;
            return;
        }
        if (0 <= x) {
            findUniquePathRecursively(x - 1, y);
        }
        if (0 <= y) {
            findUniquePathRecursively(x, y - 1);
        }
    }
}
```

ã‚´ãƒ¼ãƒ«ã‹ã‚‰ã®èµ°æŸ»ãªã‚‰ã€ç§»å‹•å¯¾è±¡ã«ãªã‚‹2ã¤ã®èµ°æŸ»æ¸ˆã®ãƒã‚¹ã‹ã‚‰ã® unique path ã®åˆç®—å€¤ãŒãã®ãƒã‚¹ã‹ã‚‰ã® unique path ã«ãªã‚‹ã¨æ°—ã¥ãã€ memoization ã®ãŸã‚ã®äºŒæ¬¡å…ƒé…åˆ—ã‚’ä½¿ã†ã‚ˆã†ã«ã—ãŸã€‚ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’å…¨ã¦ãƒ‘ã‚¹ã€‚  
(ğŸ’­ å¾Œã§æ°—ä»˜ãã¾ã—ãŸãŒã€ã‚¹ã‚¿ãƒ¼ãƒˆã‹ã‚‰ã®èµ°æŸ»ã§ã‚‚ unique path ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯å¯èƒ½ã§ã™ã­ã€‚ Step 2 ã§ãã¡ã‚‰ã®å®Ÿè£…ã‚‚ã—ã¦ã¿ã¾ã™ã€‚)  
(ğŸ’­ ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®è€ƒæ…®ã«è‹¦åŠ´ã—ã¾ã—ãŸã€‚ Leetcode ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒç”¨æ„ã•ã‚Œã¦ã„ãªã„ã¨ã“ã“ã¾ã§ä½œã‚Šè¾¼ã‚ãªã‹ã£ãŸæ°—ãŒã—ã¾ã™ã­... æ¡ç‚¹ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã‚ãªã„ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰ã«æ›¸ãã‚ˆã†ãªå½¢å¼ã®é¢æ¥ã ã¨ä¸åˆæ ¼ã¨ãªã£ã¦ã—ã¾ã‚ãªã„ã‹ä¸å®‰ãŒã‚ˆãã‚Šã¾ã—ãŸ)  

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(m * n): é…åˆ—ã®å®£è¨€
 *     - O(m + n): é…åˆ—ã®åº•ã¨å³ç«¯ã®è¦ç´ ã‚’ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å„ãƒã‚¹ã§å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒã‚¹ã®ä½ç½®ã®åˆ¤å®šã‚„å€¤ã®è¨ˆç®—ã€ä»£å…¥ã¨ã„ã£ãŸå‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(m * n): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®äºŒæ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        if (m == 1 && n == 1) {
            return 1;
        }

        int[][] pathCountCache = new int[m][n];
        for (int y = m - 1; y >= 0; y--) {
            for (int x = n - 1; x >= 0; x--) {
                boolean inXBorder = x + 1 == n, inYBorder = y + 1 == m;
                if (inXBorder && inYBorder) {
                    pathCountCache[y][x] = 0;
                } else if (inXBorder || inYBorder) {
                    pathCountCache[y][x] = 1;
                } else {
                    pathCountCache[y][x] = pathCountCache[y][x + 1] + pathCountCache[y + 1][x];
                }
            }
        }
        return pathCountCache[0][0];
    }
}
```

å¯ã‚‹å‰ã®æš‡ãªæ™‚é–“ã«ã‚³ãƒ¼ãƒ‰ã‚’çœºã‚ã¦ã„ãŸã‚‰ã€[m - 2][n - 2] ã®ãƒã‚¹ãŒå¸¸ã«2ã«ãªã‚‹ã“ã¨ã‹ã‚‰ã€å³ç«¯ã®åˆ—ã¨åº•ã®è¡Œã¯å…¨éƒ¨1ã«ã—ã¦ãŠãã€ãã‚Œã‚‰ã‚’èµ°æŸ»å¯¾è±¡ã‹ã‚‰å¤–ã›ã°ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å†…ã®æ¡ä»¶åˆ†å²ã‚’ç„¡ãã›ã‚‹ã“ã¨ã«æ°—ã¥ã„ãŸã€‚  
ã‚´ãƒ¼ãƒ«ã®ãƒã‚¹ã¯åŸºæœ¬çš„ã«æ­£ã—ãã¯ 0 ãªã®ã ã‘ã©ã€ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ã®å€¤ (unique path ã®æ•°) ã®ç®—å‡ºã«ã¯åŸºæœ¬çš„ã«å½±éŸ¿ã—ãªã„ã®ã§ã€è¦‹ã‚„ã™ã•ã®ãŸã‚ã«ã“ã®ã‚ˆã†ãªå®Ÿè£…ã«ã—ãŸã€‚  
ãã†ã—ãŸã‚‰ã‚³ãƒ¼ã‚¹ãŒ1ãƒã‚¹ã ã£ãŸã¨ã (m == 1, n == 1) ã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã§æ­£ç­”ã«ãªã£ã¦ãã‚Œã‚‹ã“ã¨ã«ã‚‚æ°—ã¥ã„ãŸã®ã§ã€å†’é ­ã® if æ–‡ã‚‚å‰Šé™¤ã—ãŸã€‚  

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(m * n): é…åˆ—ã®å®£è¨€
 *     - O(m + n): é…åˆ—ã®åº•ã¨å³ç«¯ã®è¦ç´ ã‚’ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å„ãƒã‚¹ã§å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒã‚¹ã®ä½ç½®ã®åˆ¤å®šã‚„å€¤ã®è¨ˆç®—ã€ä»£å…¥ã¨ã„ã£ãŸå‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(m * n): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®äºŒæ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        int[][] pathCountCache = new int[m][n];
        for (int i = 0; i < n; i++) {
            pathCountCache[m - 1][i] = 1;
        }
        for (int i = 0; i < m; i++) {
            pathCountCache[i][n - 1] = 1;
        }

        for (int y = m - 2; y >= 0; y--) {
            for (int x = n - 2; x >= 0; x--) {
                pathCountCache[y][x] = pathCountCache[y][x + 1] + pathCountCache[y + 1][x];
            }
        }
        return pathCountCache[0][0];
    }
}
```

ä¸€å¿œ 0 ä»¥ä¸‹ã®å€¤ãŒå¼•æ•°ã«æ¸¡ã•ã‚ŒãŸã¨ãã®è€ƒæ…®ã‚‚ã—ã¦ãŠã„ãŸã€‚

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(m * n): é…åˆ—ã®å®£è¨€
 *     - O(m + n): é…åˆ—ã®åº•ã¨å³ç«¯ã®è¦ç´ ã‚’ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å„ãƒã‚¹ã§å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒã‚¹ã®ä½ç½®ã®åˆ¤å®šã‚„å€¤ã®è¨ˆç®—ã€ä»£å…¥ã¨ã„ã£ãŸå‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(m * n): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®äºŒæ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        if (m <= 0 || n <= 0) {
            return 0;
        }

        int[][] pathCountCache = new int[m][n];
        for (int i = 0; i < n; i++) {
            pathCountCache[m - 1][i] = 1;
        }
        for (int i = 0; i < m; i++) {
            pathCountCache[i][n - 1] = 1;
        }

        for (int y = m - 2; y >= 0; y--) {
            for (int x = n - 2; x >= 0; x--) {
                pathCountCache[y][x] = pathCountCache[y][x + 1] + pathCountCache[y + 1][x];
            }
        }
        return pathCountCache[0][0];
    }
}
```

(ğŸ’­ å¤œä¸­ã«ãƒ€ãƒ©ãƒ€ãƒ©ã‚„ã£ã¦ãŸã®ã§ã‹ã‹ã£ãŸæ™‚é–“ã¯15åˆ†ã‚’å…¨ç„¶è¶…ãˆã¦ã¾ã™ãŒã€æ„å¤–ã¨å‡ºæ¥ã‚‹ã‚‚ã®ã§ã™ã­ã€‚ã¡ã‚ƒã‚“ã¨è€ƒãˆã‚’æ•´ç†ã—ãªãŒã‚‰è§£æ³•ã‚’æ®µéšçš„ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ã£ã¦ç†è§£ãŒæ·±ã¾ã£ãŸã®ã§ã€ä»Šå¾Œã‚‚é•·ã„é–“è¦šãˆã¦ã„ã‚‰ã‚Œãã†ã§ã™ã€‚)  

## Step 2

### ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ã‹ã‚‰èµ°æŸ»ã™ã‚‹

Step 1 ã®è§£æ³•ã®èµ°æŸ»ã‚’ã€ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ã‹ã‚‰è¡Œã†ã‚ˆã†ã«æ›¸ãç›´ã—ã¦ã¿ã‚‹ã€‚

```java
class Solution {
    public int uniquePaths(int m, int n) {
        if (m <= 0 || n <= 0) {
            return 0;
        }

        int[][] pathCountCache = new int[m][n];
        for (int i = 0; i < n; i++) {
            pathCountCache[0][i] = 1;
        }
        for (int i = 0; i < m; i++) {
            pathCountCache[i][0] = 1;
        }

        for (int y = 1; y < m; y++) {
            for (int x = 1; x < n; x++) {
                pathCountCache[y][x] = pathCountCache[y - 1][x] + pathCountCache[y][x - 1];
            }
        }
        return pathCountCache[m - 1][n - 1];
    }
}
```

### 1æ¬¡å…ƒé…åˆ—ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹

è§£ç­”ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€ä¸€æ¬¡å…ƒã®é…åˆ—ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä½¿ã†ã‚‚ã®ãŒã‚ã£ãŸã®ã§ã€ã“ã‚Œã‚’è¸ã¾ãˆã¦ step 1 ã®ã‚³ãƒ¼ãƒ‰ã‚’æ”¹è‰¯ã™ã‚‹ã€‚  
step 1 ã§ã¯æ¬¡ã®ã‚ˆã†ãª2æ¬¡å…ƒé…åˆ—ã‚’ä½¿ã£ã¦ã„ãŸãŒã€ã¾ãšå³ç«¯ã®åˆ—ã«ã¤ã„ã¦ã¯å…¨ã¦ 1 ã§ã‚ã‚‹ã“ã¨ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«æ®‹ã£ã¦ã„ã‚Œã°è‰¯ã„ã®ã§ã€1åˆ—åˆ†ã®æƒ…å ±é‡ã¯å¿…è¦ãªã„ã€‚

```
        â”Œ ã“ã®è¦ç´ ãŸã¡ã¯ã²ã¨ã¤ã§å……åˆ†
0, 0, 1 â”¤
3, 2, 1 â”¤
1, 1, 1 â”˜
```

ä»–ã®åˆ—ã®æƒ…å ±ã‚‚å…¨è¡Œåˆ†ä¿æŒã™ã‚‹å¿…è¦ã¯ãªãã€ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã”ã¨ã«æœ€æ–°ã® (ä¸€ç•ªä¸‹ã®è¡Œã®) å€¤ã•ãˆã‚ã‚Œã°ã„ã„ã€‚

```
0, 0, 1
3, 2, 1
1, 1, 1 <- æ¬¡ã«è¨ˆç®—ã™ã‚‹è¡Œ (ä¸€ç•ªä¸Šã®è¡Œ) ã®è¨ˆç®—ã«ã¯ã‚‚ã†ã“ã®è¡Œã®æƒ…å ±ã¯å¿…è¦ãªã„
```

ä¸Šè¨˜ã®ä¾‹ã ã¨ã€ [3, 2, 1] ã®ä¸€æ¬¡å…ƒé…åˆ—ãŒã‚ã‚Œã°ã€ã“ã®å³ç«¯ä»¥å¤– (ã“ã®å ´åˆ 0-1) ã®è¦ç´ ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ãã“ã¨ã§ step 1 ã¨åŒç­‰ã®å‡¦ç†ãŒå®Ÿç¾ã§ãã‚‹ã€‚  
ã“ã‚Œã‚’è¸ã¾ãˆã¦ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãç›´ã—ãŸã€‚

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(1): é…åˆ—ã®å®£è¨€ (ä¸€æ¬¡å…ƒé…åˆ—ã®ãŸã‚ã®ãƒ¡ãƒ¢ãƒªç¢ºä¿å‡¦ç†ãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹æƒ³å®š)
 *     - O(n): é…åˆ—ã®è¦ç´ ã‚’å…¨ã¦ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®å‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(n): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®ä¸€æ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        if (m <= 0 || n <= 0) {
            return 0;
        }

        int[] uniquePathCache = new int[n];
        Arrays.fill(uniquePathCache, 1);
        for (int y = m - 2; y >= 0; y--)  {
            for (int x = n - 2; x >= 0; x--) {
                uniquePathCache[x] += uniquePathCache[x + 1];
            }
        }
        return uniquePathCache[0];
    }
}
```

m, n ã®å°ã•ã„æ–¹ã‚’é…åˆ—ã®ã‚µã‚¤ã‚ºã«æŒ‡å®šã™ã‚Œã°ã€é…åˆ—ã®åˆæœŸåŒ–å‡¦ç†ã¨ç©ºé–“è¨ˆç®—é‡ãŒ O(n) ã‹ã‚‰ O(min(m, n)) ã«ãªã‚‹ã€‚ 

```java
/**
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(1): é…åˆ—ã®å®£è¨€ (ä¸€æ¬¡å…ƒé…åˆ—ã®ãŸã‚ã®ãƒ¡ãƒ¢ãƒªç¢ºä¿å‡¦ç†ãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹æƒ³å®š)
 *     - O(min(m, n)): é…åˆ—ã®è¦ç´ ã‚’å…¨ã¦ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®å‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(min(m, n)): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®ä¸€æ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        if (m <= 0 || n <= 0) {
            return 0;
        }

        // Make Space Complexity O(min(m, n)) from O(n)
        if (m < n) {
            return uniquePaths(n, m);
        }

        int[] uniquePathCache = new int[n];
        Arrays.fill(uniquePathCache, 1);
        for (int y = m - 2; y >= 0; y--)  {
            for (int x = n - 2; x >= 0; x--) {
                uniquePathCache[x] += uniquePathCache[x + 1];
            }
        }
        return uniquePathCache[0];
    }
}
```

### æ•°å­¦çš„ã®çµ„ã¿åˆã‚ã›ã®å•é¡Œã¨ã—ã¦è¨ˆç®—

[çµ„ã¿åˆã‚ã›ã®å…¬å¼](https://manabitimes.jp/math/1352#4)ã‚’ä½¿ã£ã¦è§£ãã€‚ Constraints ã®ç¯„å›²å†…ã§ã‚‚æœ€å¤§ã§ 198! ã‚’æ‰±ã†ã“ã¨ã«ãªã‚Šã€ãã®çµæœã¯ int ã®æœ€å¤§å€¤ 2^31 - 1 ã‚’ç°¡å˜ã«è¶…ãˆã¦ã—ã¾ã† (int ãŒæ‰±ãˆã‚‹ã®ã¯ 12! ã¾ã§)ã€‚ãã®ãŸã‚ java.math ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã® BigInteger ã‚’ä½¿ã†ã€‚  
(ğŸ’­ [Math ã‚¯ãƒ©ã‚¹](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Math.html) ã‚„ [math ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/package-summary.html) ã‚’çœºã‚ã¦ã¿ã¾ã—ãŸãŒã€æ„å¤–ã¨ factorial ã‚„ combination ç®—å‡ºç”¨ã®é–¢æ•°ã¯ãªã„ã‚“ã§ã™ã­)  
(ğŸ’­ util ã‚„ lang ä»¥å¤–ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã®ã¯ä¹…ã€…ã§ã™ã€‚ã“ã‚Œã‚‰ä»¥å¤–ã¯ LeetCode ã§ã¯æ˜ç¤ºçš„ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ import æ–‡ã‚‚ä¹…ã€…ã«æ›¸ãã¾ã—ãŸã€‚)  

```java
import java.math.BigInteger;

class Solution {
    public int uniquePaths(int m, int n) {
        return combination(m + n - 2, n - 1).intValue();
    }

    private BigInteger combination(int m, int n) {
        BigInteger numerator = factorial(m);
        BigInteger denominator = factorial(n).multiply(factorial(m - n));
        return numerator.divide(denominator);
    }

    private BigInteger factorial(int m) {
        BigInteger result = BigInteger.ONE;
        for (int i = 2; i <= m; i++) {
            result = result.multiply(BigInteger.valueOf(i));
        }
        return result;
    }
}
```

## Step 3

ä¸€æ¬¡å…ƒé…åˆ—ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹æ¡ˆã‚’æ¡ç”¨ã€‚åŠ ãˆã¦ã‚¹ã‚¿ãƒ¼ãƒˆåœ°ç‚¹ã‹ã‚‰æ“ä½œã™ã‚‹æ–¹ãŒç›´æ„Ÿçš„ã«æ„Ÿã˜ãŸã®ã§ãã®ã‚ˆã†ã«ã—ãŸã€‚  
å°šã€ m, n ã‹ã‚‰ã‚ˆã‚Šå°ã•ã„å€¤ã‚’é¸ã‚“ã§è¨ˆç®—é‡ã‚’æœ€é©åŒ–ã™ã‚‹ã®ã¯ã€æ¬¡ã®è€ƒãˆã‹ã‚‰ã€ä¸ãˆã‚‰ã‚ŒãŸå•é¡Œã«å¯¾ã—ã¦ã¯ã‚„ã‚Šéãã ã¨åˆ¤æ–­ã—ã¦ã„ã‚‹:  

- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¯ã€äºŒæ¬¡å…ƒã®ã‚°ãƒªãƒƒãƒ‰ã§ãªã«ã‹ã‚’ã™ã‚‹ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ ã‹ä½•ã‹ã§ã€ç§»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ•°ã‚’ç®—å‡ºã™ã‚‹å‡¦ç†ã‹ä½•ã‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹
- ã“ã®æœ€é©åŒ–ã®æ©æµãŒå—ã‘ã‚‰ã‚Œã‚‹ã»ã©ã®å¤§ãã•ã®ã‚°ãƒªãƒƒãƒ‰å†…ã§ã®ç§»å‹•ã‚’ã™ã‚‹å ´åˆã€ãã®ãƒ‘ã‚¿ãƒ¼ãƒ³æ•°ã‚’ç®—å‡ºã—ãŸããªã‚‹ã“ã¨ã¯ç„¡ã„ã®ã§ã¯ãªã„ã‹ã¨è€ƒãˆãŸ (ğŸ’­ å…¨ç„¶ã‚²ãƒ¼ãƒ è©³ã—ããªã„ã®ã§ã€é–“é•ã£ã¦ã„ãŸã‚‰ã”æŒ‡æ‘˜ãã ã•ã„)

ãªã®ã§ä¸Šè¨˜ã«ã¤ã„ã¦ã¯ã€é¢æ¥å®˜ã¨ã®ä¼šè©±ã‚’é€šã—ã¦ã€å¿…è¦ã ã¨åˆ¤æ–­ã—ãŸã‚‰å®Ÿè£…ã«åŠ ãˆãŸã„ã€‚

```java
/**
 * è§£ã„ãŸæ™‚é–“: ç´„3åˆ†
 * æ™‚é–“è¨ˆç®—é‡: O(m * n):
 *     - O(1): é…åˆ—ã®å®£è¨€ (ä¸€æ¬¡å…ƒé…åˆ—ã®ãŸã‚ã®ãƒ¡ãƒ¢ãƒªç¢ºä¿å‡¦ç†ãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã‚‹æƒ³å®š)
 *     - O(n): é…åˆ—ã®è¦ç´ ã‚’å…¨ã¦ 1 ã«ã™ã‚‹
 *     - O(m * n): unique path ã®ç®—å‡ºã‚’å®Ÿæ–½
 *         - O(1): å„ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®å‡¦ç†
 * ç©ºé–“è¨ˆç®—é‡: O(n): ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç”¨ã®ä¸€æ¬¡å…ƒé…åˆ—
 */
class Solution {
    public int uniquePaths(int m, int n) {
        if (m <= 0 || n <= 0) {
            return 0;
        }

        int[] uniquePathCache = new int[n];
        Arrays.fill(uniquePathCache, 1);
        for (int y = 1; y < m; y++) {
            for (int x = 1; x < n; x++) {
                uniquePathCache[x] += uniquePathCache[x - 1];
            }
        }
        return uniquePathCache[n - 1];
    }
}
```

oda ã•ã‚“ãŒè¨€ã†ã¨ã“ã‚ã®[çŸ¥ã£ã¦ãŸã¨ã¿ãªã—ã¦ã®æ¡ç‚¹å¯¾è±¡å¤–](https://discord.com/channels/1084280443945353267/1206101582861697046/1207405733667410051)ã¨ãªã‚‰ãªã„ã‚ˆã†ã€é¢æ¥ã§ã¯ã€ã—ã£ã‹ã‚Šã¨ã©ã†ã‚„ã£ã¦ãŸã©ã‚Šç€ã„ãŸã®ã‹ã¯èª¬æ˜ã—ãªãŒã‚‰æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã£ãŸã€‚  

> ã„ã‚„ã€ç§ã€ä½•ã‚’è¨€ã£ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€ã“ã‚Œã€Kadane's algorithm ã¨ã„ã£ã¦ã€åå‰ãŒã¤ã„ã¦ã„ã‚‹ä¸Šã«å¸¸è­˜ã«å…¥ã£ã¦ã„ãªã„ç¨‹åº¦ã®ã‚‚ã®ãªã®ã§ã€ã„ããªã‚Šã“ã‚Œã‚’æ›¸ã„ãŸã‚‰ã€Kadane ç¨‹åº¦ã®å¤©æ‰ã‹ã€çŸ¥ã£ã¦ã„ãŸã‚“ã ã‚ã†ãªã£ã¦æ€ã£ã¦ã€ã“ã®å•é¡Œã¯æ¡ç‚¹å¤–ã«ã—ã¦ã€æ¬¡ã®å•é¡Œã‚’å‡ºã—ã¾ã™ã€‚  
> from: https://discord.com/channels/1084280443945353267/1206101582861697046/1207405733667410051

(ğŸ’­ ã“ã®å•é¡Œã§ã¯ãã‚“ãªã«é›£ã—ã„ã“ã¨ã—ã¦ãªã„ã®ã§ãã†ã¯ãªã‚‰ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå¾Œã®å¿ƒæ§‹ãˆã¨ã—ã¦ã€‚)  
